[gd_scene load_steps=8 format=3 uid="uid://d34wwl7yqbe5r"]

[ext_resource type="Script" path="res://1_Scenes/Scripts/GameplayScene.gd" id="1_lquag"]
[ext_resource type="PackedScene" uid="uid://b26bn2ct5upyr" path="res://Enemies/guard.tscn" id="4_qtcec"]
[ext_resource type="PackedScene" uid="uid://bcutqjhdgpo5s" path="res://ImportantObjects/ActivationObjects/substitution_giver.tscn" id="6_2dxd0"]
[ext_resource type="PackedScene" uid="uid://c1enn7ep28o73" path="res://Level/Prefabs/wall.tscn" id="6_qwx0y"]
[ext_resource type="Script" path="res://Enemies/PatrolIndicator/Scripts/PatrolIndicator.gd" id="8_n2toe"]
[ext_resource type="PackedScene" uid="uid://y6defetggqrl" path="res://Level/SavePoints/save_point.tscn" id="12_75wbm"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_71oav"]
vertices = PackedVector2Array(7744, -4888, 7048, 6336, -8, 88, -8, -88, -10272, 6032, -312, 88, -7952, -6008, -312, -88)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(2, 1, 4, 5), PackedInt32Array(5, 4, 6, 7), PackedInt32Array(7, 6, 0, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-10272, 6032, -7952, -6008, 7744, -4888, 7048, 6336), PackedVector2Array(-312, -88, -8, -88, -8, 88, -312, 88)])

[node name="PlayerTransformTest" type="Node2D" node_paths=PackedStringArray("playerSpawnPoint")]
script = ExtResource("1_lquag")
playerSpawnPoint = NodePath("PlayerSpawnPoint")

[node name="PlayerSpawnPoint" type="Node2D" parent="."]
position = Vector2(-1016, -24)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_71oav")

[node name="PatrolIndicator" type="Node2D" parent="." node_paths=PackedStringArray("moveActions")]
script = ExtResource("8_n2toe")
patrolActions = Array[int]([1, 1, 0, 2, 0, 1, 2, 0, 2, 0, 1, 0])
waitActions = Array[float]([2.0, 2.0, 2.0, 5.0, 2.0])
moveActions = [NodePath("FirstCheckPoint"), NodePath("SecondCheckPoint"), NodePath("FirstCheckPoint"), NodePath("ThirdCheckPoint")]
lookActions = Array[int]([1, 2, 0])

[node name="FirstCheckPoint" type="Node2D" parent="PatrolIndicator"]
position = Vector2(-192, 192)

[node name="SecondCheckPoint" type="Node2D" parent="PatrolIndicator"]
position = Vector2(448, 192)

[node name="ThirdCheckPoint" type="Node2D" parent="PatrolIndicator"]
position = Vector2(-360, -200)

[node name="PatrolIndicator2" type="Node2D" parent="." node_paths=PackedStringArray("moveActions")]
position = Vector2(704, 768)
script = ExtResource("8_n2toe")
patrolActions = Array[int]([1, 1, 1, 1])
moveActions = [NodePath("1"), NodePath("2"), NodePath("3"), NodePath("4")]

[node name="1" type="Node2D" parent="PatrolIndicator2"]
position = Vector2(-192, -192)

[node name="2" type="Node2D" parent="PatrolIndicator2"]
position = Vector2(256, -320)

[node name="3" type="Node2D" parent="PatrolIndicator2"]
position = Vector2(512, 320)

[node name="4" type="Node2D" parent="PatrolIndicator2"]
position = Vector2(-768, 128)

[node name="Guard" parent="." node_paths=PackedStringArray("patrolIndicators") instance=ExtResource("4_qtcec")]
position = Vector2(408, -32)
patrolIndicators = [NodePath("../PatrolIndicator")]

[node name="Wall" parent="." instance=ExtResource("6_qwx0y")]
position = Vector2(-160, 0)

[node name="SavePoint" parent="." instance=ExtResource("12_75wbm")]
position = Vector2(-1160, 232)

[node name="SubstitutionGiver" parent="." instance=ExtResource("6_2dxd0")]
position = Vector2(-816, 152)
