[gd_scene load_steps=6 format=3 uid="uid://bka5do4pyuclb"]

[ext_resource type="PackedScene" uid="uid://cjye6xpdv34of" path="res://PlayerCharacter/PlayerCharacter.tscn" id="1_nvxq0"]
[ext_resource type="PackedScene" uid="uid://dvrh8nj8aokk1" path="res://Enemies/guard.tscn" id="2_fmwiu"]
[ext_resource type="PackedScene" uid="uid://dkix8gwtvv1ki" path="res://TransformationObjects/transformation_object.tscn" id="3_cv1i0"]
[ext_resource type="PackedScene" uid="uid://b5orbkqm40yjl" path="res://Level/Detection/local_allowed_items.tscn" id="4_xdw7q"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_8ts56"]
vertices = PackedVector2Array(-272, -848, -272.454, -464, -400, -592, -400, -720, 368, 944, 368, 1328, 240, 1200, 240, 1072, -16, 1328, 112, 1200, -272, 944, -272, 1328, -400, 1200, -400, 1072, -656, 1328, -528, 1200, -655.54, 944, -528, 1072, -656, -848, -528, -720, -656, -464, -528, -592, 368, -848, 368, -464, 240, -592, 240, -720, -16, -848, 112, -720, -16, -464, 112, -592, -17.6563, 944, 112, 1072, 176, 432, 176, 48, 816, 368.557, 816, 944, -1232, 944, -1232, 368, 816, 112, 1072, 112, 1072, 368, 816, -464, -1488, 368, -1488, 112, -1232, 112, -1232, -464, -592, 48, -592, 432)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(6, 5, 8, 9), PackedInt32Array(10, 11, 12, 13), PackedInt32Array(12, 11, 14, 15), PackedInt32Array(15, 14, 16, 17), PackedInt32Array(18, 0, 3, 19), PackedInt32Array(20, 18, 19, 21), PackedInt32Array(22, 23, 24, 25), PackedInt32Array(26, 22, 25, 27), PackedInt32Array(28, 26, 27, 29), PackedInt32Array(9, 8, 30, 31), PackedInt32Array(32, 33, 34, 35, 4), PackedInt32Array(16, 36, 37), PackedInt32Array(38, 39, 40, 34), PackedInt32Array(41, 38, 34, 33, 23), PackedInt32Array(37, 42, 43, 44), PackedInt32Array(16, 44, 45, 20, 46, 47), PackedInt32Array(24, 23, 33, 46, 28), PackedInt32Array(47, 32, 4, 7, 30), PackedInt32Array(10, 13, 17, 16, 47), PackedInt32Array(20, 21, 2, 1, 46), PackedInt32Array(16, 37, 44), PackedInt32Array(28, 29, 24), PackedInt32Array(1, 28, 46), PackedInt32Array(30, 10, 47), PackedInt32Array(30, 7, 31)])
outlines = Array[PackedVector2Array]([PackedVector2Array(816, -464, 368, -464, 368, -848, -16, -848, -16, -464, -272.454, -464, -272, -848, -656, -848, -656, -464, -1232, -464, -1232, 112, -1488, 112, -1488, 368, -1232, 368, -1232, 944, -655.54, 944, -656, 1328, -272, 1328, -272, 944, -17.6563, 944, -16, 1328, 368, 1328, 368, 944, 816, 944, 816, 368.557, 1072, 368, 1072, 112, 816, 112), PackedVector2Array(-592, 48, -592, 432, 176, 432, 176, 48), PackedVector2Array(-528, -720, -400, -720, -400, -592, -528, -592), PackedVector2Array(112, -720, 112, -592, 240, -592, 240, -720), PackedVector2Array(112, 1072, 240, 1072, 240, 1200, 112, 1200), PackedVector2Array(-528, 1072, -400, 1072, -400, 1200, -528, 1200)])

[node name="TestLevel" type="Node2D"]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(976, 144)
navigation_polygon = SubResource("NavigationPolygon_8ts56")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(604, 285)

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-3.47815, -1.07344)
scale = Vector2(0.988281, 1.00781)
polygon = PackedVector2Array(558.017, 289.809, 558.017, -91.214, -219.089, -91.214, -219.089, 289.809)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D"]

[node name="StaticBody2D6" type="StaticBody2D" parent="."]
position = Vector2(604, 285)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D6"]
position = Vector2(508, -781)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(1019.3, 249.342, 1019.3, -415.57, -235.223, -415.57, -235.223, 249.342)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D6"]

[node name="StaticBody2D14" type="StaticBody2D" parent="."]
position = Vector2(-880, 984)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D14"]
position = Vector2(508, -781)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(1136.91, 275.315, 1136.91, -2716.78, -1999.39, 275.315, -1999.39, 1605.14, 1136.91, 4597.24, 1136.91, 1605.14, -1372.13, 1605.14, -1372.13, 275.315)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D14"]

[node name="StaticBody2D13" type="StaticBody2D" parent="."]
position = Vector2(1312, 984)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D13"]
position = Vector2(508, -781)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(-274.426, 4597.24, 2861.88, 1605.14, 2861.88, 275.315, -274.426, -2716.78, -274.426, 275.315, 2234.62, 275.315, 2234.62, 1605.14, -274.426, 1605.14)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D13"]

[node name="StaticBody2D7" type="StaticBody2D" parent="."]
position = Vector2(604, 285)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D7"]
position = Vector2(140, -773)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(2117, 872.695, 2117, -1122.04, 5880.57, -1122.04, 5880.57, -1454.49, -4155.6, -1454.49, -4155.6, -1122.04, -392.038, -1122.04, -392.038, 872.695)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D7"]

[node name="StaticBody2D12" type="StaticBody2D" parent="."]
position = Vector2(600, 2080)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D12"]
position = Vector2(140, -773)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(2156.21, -1137.62, 2156.21, 857.111, 5919.77, 857.111, 5919.77, 1189.57, -4116.4, 1189.57, -4116.4, 857.111, -352.834, 857.111, -352.834, -1137.62)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D12"]

[node name="StaticBody2D8" type="StaticBody2D" parent="."]
position = Vector2(604, 285)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D8"]
position = Vector2(140, -773)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(-4155.6, -1122.04, -4155.6, 872.695, -9800.94, 872.695)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D8"]

[node name="StaticBody2D9" type="StaticBody2D" parent="."]
position = Vector2(2208, 285)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D9"]
position = Vector2(140, -773)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(-9840.15, -1122.04, -5449.32, 872.695, -9840.15, 872.695)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D9"]

[node name="StaticBody2D10" type="StaticBody2D" parent="."]
position = Vector2(2208, 2080)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D10"]
position = Vector2(140, -773)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(-9840.15, -1137.62, -5449.32, -1137.62, -9840.15, 857.111)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D10"]

[node name="StaticBody2D11" type="StaticBody2D" parent="."]
position = Vector2(736, 2080)

[node name="CollisionShape2D3" type="CollisionPolygon2D" parent="StaticBody2D11"]
position = Vector2(140, -773)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(-11094.7, -1137.62, -5449.32, -1137.62, -5449.32, 857.111)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D11"]

[node name="StaticBody2D5" type="StaticBody2D" parent="."]
position = Vector2(604, 285)

[node name="CollisionShape2D5" type="CollisionPolygon2D" parent="StaticBody2D5"]
position = Vector2(508, 1011)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(1019.3, 249.342, 1019.3, -415.57, -235.222, -415.57, -235.222, 249.342)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D5"]

[node name="StaticBody2D4" type="StaticBody2D" parent="."]
position = Vector2(600, 280)

[node name="CollisionShape2D4" type="CollisionPolygon2D" parent="StaticBody2D4"]
position = Vector2(-130, 1011)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(1038.9, 275.315, 1038.9, -389.596, -215.621, -389.596, -215.621, 275.315)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D4"]

[node name="StaticBody2D3" type="StaticBody2D" parent="."]
position = Vector2(604, 285)

[node name="CollisionShape2D2" type="CollisionPolygon2D" parent="StaticBody2D3"]
position = Vector2(-132, -781)
scale = Vector2(0.102031, 0.192507)
polygon = PackedVector2Array(1019.3, 249.342, 1019.3, -415.57, -235.222, -415.57, -235.222, 249.342)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="StaticBody2D3"]

[node name="PlayerCharacter" parent="." instance=ExtResource("1_nvxq0")]
position = Vector2(-392, 384)

[node name="Guard" parent="." node_paths=PackedStringArray("moveActions") instance=ExtResource("2_fmwiu")]
position = Vector2(1328, 248)
patrolActions = Array[int]([1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1])
waitActions = Array[float]([1.0, 1.0, 1.0, 1.0])
moveActions = [NodePath("../NavigationPoint1"), NodePath("../NavigationPoint2"), NodePath("../NavigationPoint3"), NodePath("../NavigationPoint4"), NodePath("../NavigationPoint1")]
lookActions = Array[int]([2, 0, 3, 1])

[node name="Guard2" parent="." node_paths=PackedStringArray("moveActions") instance=ExtResource("2_fmwiu")]
position = Vector2(832, 768)
patrolActions = Array[int]([1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1])
waitActions = Array[float]([1.0, 1.0, 1.0, 1.0])
moveActions = [NodePath("../NavigationPoint2"), NodePath("../NavigationPoint3"), NodePath("../NavigationPoint4"), NodePath("../NavigationPoint1"), NodePath("../NavigationPoint2")]
lookActions = Array[int]([0, 3, 1, 2])

[node name="Guard3" parent="." node_paths=PackedStringArray("moveActions") instance=ExtResource("2_fmwiu")]
position = Vector2(512, 0)
patrolActions = Array[int]([1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1])
waitActions = Array[float]([1.0, 1.0, 1.0, 1.0])
moveActions = [NodePath("../NavigationPoint4"), NodePath("../NavigationPoint1"), NodePath("../NavigationPoint2"), NodePath("../NavigationPoint3"), NodePath("../NavigationPoint4")]
lookActions = Array[int]([1, 2, 0, 3])

[node name="NavigationPoint1" type="Node2D" parent="."]
position = Vector2(1280, 768)

[node name="NavigationPoint2" type="Node2D" parent="."]
position = Vector2(256, 768)

[node name="NavigationPoint3" type="Node2D" parent="."]
position = Vector2(256, 0)

[node name="NavigationPoint4" type="Node2D" parent="."]
position = Vector2(1280, 0)

[node name="TransformationObject" parent="." instance=ExtResource("3_cv1i0")]
position = Vector2(832, 1016)
transformedName = "Statue"
transformedMaxSpeed = 100.0

[node name="TransformationObject2" parent="." instance=ExtResource("3_cv1i0")]
position = Vector2(832, -248)
transformedName = "Statue"
transformedMaxSpeed = 100.0

[node name="TransformationObject3" parent="." instance=ExtResource("3_cv1i0")]
position = Vector2(-184, 184)
transformedName = "Statue"
transformedMaxSpeed = 100.0

[node name="LocalAllowedItems" parent="." node_paths=PackedStringArray("assignedObjects") instance=ExtResource("4_xdw7q")]
position = Vector2(776, 384)
scale = Vector2(135, 115)
allowedObjects = Array[String](["Statue"])
assignedObjects = [NodePath("../TransformationObject"), NodePath("../TransformationObject2"), NodePath("../TransformationObject3")]
